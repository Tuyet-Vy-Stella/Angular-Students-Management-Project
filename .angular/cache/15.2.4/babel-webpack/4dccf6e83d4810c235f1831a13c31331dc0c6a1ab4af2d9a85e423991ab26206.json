{"ast":null,"code":"import { Request } from \"../shared/request\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"ngx-cookie-service\";\nimport * as i3 from \"@angular/router\";\nexport class AuthService {\n  constructor(http, cookieService, route) {\n    this.http = http;\n    this.cookieService = cookieService;\n    this.route = route;\n  }\n  login(email, password) {\n    const request = new Request();\n    request.addBodyParams('username', email);\n    request.addBodyParams('password', password);\n    this.http.post('https://qlsv-mu.vercel.app/api/token', request.getBody(), {\n      headers: request.headers\n    }).subscribe(res => {\n      this.cookieService.set('token', res.access_token);\n      this.route.navigate(['/']);\n    });\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.CookieService), i0.ɵɵinject(i3.Router));\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAAQA,OAAO,QAAO,mBAAmB;;;;;AAWzC,OAAM,MAAOC,WAAW;EAEtBC,YAAoBC,IAAgB,EAAUC,aAA6B,EAAUC,KAAc;IAA/E,SAAI,GAAJF,IAAI;IAAsB,kBAAa,GAAbC,aAAa;IAA0B,UAAK,GAALC,KAAK;EAC1F;EAEAC,KAAK,CAACC,KAAa,EAAEC,QAAgB;IACnC,MAAMC,OAAO,GAAG,IAAIT,OAAO,EAAE;IAC7BS,OAAO,CAACC,aAAa,CAAC,UAAU,EAAEH,KAAK,CAAC;IACxCE,OAAO,CAACC,aAAa,CAAC,UAAU,EAAEF,QAAQ,CAAC;IAG3C,IAAI,CAACL,IAAI,CAACQ,IAAI,CAAY,sCAAsC,EAAEF,OAAO,CAACG,OAAO,EAAE,EAAE;MAACC,OAAO,EAAEJ,OAAO,CAACI;IAAO,CAAC,CAAC,CAC7GC,SAAS,CAACC,GAAG,IAAI;MAChB,IAAI,CAACX,aAAa,CAACY,GAAG,CAAC,OAAO,EAAED,GAAG,CAACE,YAAY,CAAC;MACjD,IAAI,CAACZ,KAAK,CAACa,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC,CAAC;EACN;;AAhBWjB,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAkB,SAAXlB,WAAW;EAAAmB,YADC;AAAM","names":["Request","AuthService","constructor","http","cookieService","route","login","email","password","request","addBodyParams","post","getBody","headers","subscribe","res","set","access_token","navigate","factory","providedIn"],"sourceRoot":"","sources":["C:\\OneDrive - Industrial University of HoChiMinh City\\Desktop\\Angular-Students-Management-Project\\src\\app\\auth\\auth.service.ts"],"sourcesContent":["import {Injectable} from \"@angular/core\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {Request} from \"../shared/request\";\r\nimport {CookieService} from \"ngx-cookie-service\";\r\nimport {Router} from \"@angular/router\";\r\n\r\ninterface IResponse {\r\n  access_token : string,\r\n  token_type : string,\r\n  name : string\r\n}\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class AuthService {\r\n\r\n  constructor(private http: HttpClient, private cookieService : CookieService, private route : Router) {\r\n  }\r\n\r\n  login(email: string, password: string) {\r\n    const request = new Request();\r\n    request.addBodyParams('username', email);\r\n    request.addBodyParams('password', password);\r\n\r\n\r\n    this.http.post<IResponse>('https://qlsv-mu.vercel.app/api/token', request.getBody(), {headers: request.headers})\r\n      .subscribe(res  => {\r\n        this.cookieService.set('token', res.access_token);\r\n        this.route.navigate(['/']);\r\n      });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}